# БЫСТРОЕ ИСПРАВЛЕНИЕ СИСТЕМЫ

## Что исправлено:

✅ **Кнопка "Создать дело"** - теперь работает и открывает форму создания
✅ **Создание актов суда** - добавлена форма прямо на странице
✅ **Создание расписания судов** - добавлена форма планирования заседаний
✅ **Права доступа** - исправлены политики безопасности

## Что нужно сделать СЕЙЧАС:

### 1. Выполнить SQL-скрипт в базе данных:
```sql
-- Скопировать и выполнить содержимое файла complete_fix_script.sql
```

### 2. Перезапустить приложение:
```bash
npm run dev
```

## Проверка работы:

1. **Войдите как прокурор/судья** в систему
2. **Перейдите в раздел "Дела"** - кнопка "Создать дело" должна работать
3. **Перейдите в "Акты суда"** - кнопка "Новый акт" должна работать
4. **Перейдите в "Судебные заседания"** - кнопка "Создать заседание" должна работать

## Если что-то не работает:

1. **Проверьте роль пользователя** в таблице `profiles` (должна быть JUDGE, PROSECUTOR, etc.)
2. **Выполните SQL-скрипт** еще раз
3. **Проверьте консоль браузера** на ошибки

## Роли для доступа:

- **PROSECUTOR** - может создавать дела
- **JUDGE** - может создавать дела, акты, заседания
- **CHIEF_JUSTICE** - полный доступ ко всему
- **TECH_ADMIN** - полный доступ ко всему

## Файлы, которые были изменены:

- `app/cases/page.tsx` - исправлена кнопка создания дел
- `app/acts-court/page.tsx` - добавлено создание актов
- `app/court-sessions/page.tsx` - добавлено создание заседаний
- `app/cases/new/page.tsx` - новая страница создания дел
- `app/acts-court/new/page.tsx` - новая страница создания актов
- `app/court-sessions/new/page.tsx` - новая страница создания заседаний

## SQL-скрипты:

- `complete_fix_script.sql` - **ГЛАВНЫЙ СКРИПТ** (выполнить первым)
- `fix_access_policies.sql` - только политики безопасности
- `create_missing_tables.sql` - только недостающие таблицы

---

**ВНИМАНИЕ**: После выполнения SQL-скрипта все должно работать сразу!
